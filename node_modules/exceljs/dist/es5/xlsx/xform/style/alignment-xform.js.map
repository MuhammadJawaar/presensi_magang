<<<<<<< HEAD
{"version":3,"sources":["../../../../../lib/xlsx/xform/style/alignment-xform.js"],"names":["Enums","require","utils","BaseXform","validation","horizontalValues","reduce","p","v","horizontal","value","undefined","verticalValues","vertical","wrapText","shrinkToFit","textRotation","validInt","indent","Math","max","readingOrder","ReadingOrder","LeftToRight","RightToLeft","textRotationXform","toXml","tr","round","toModel","AlignmentXform","xmlStream","model","addRollback","openNode","isValid","add","name","addAttribute","closeNode","commit","rollback","node","valid","truthy","attributes","parseInt","module","exports"],"mappings":"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","sourcesContent":["const Enums = require('../../../doc/enums');\r\n\r\nconst utils = require('../../../utils/utils');\r\nconst BaseXform = require('../base-xform');\r\n\r\nconst validation = {\r\n  horizontalValues: [\r\n    'left',\r\n    'center',\r\n    'right',\r\n    'fill',\r\n    'centerContinuous',\r\n    'distributed',\r\n    'justify',\r\n  ].reduce((p, v) => {\r\n    p[v] = true;\r\n    return p;\r\n  }, {}),\r\n  horizontal(value) {\r\n    return this.horizontalValues[value] ? value : undefined;\r\n  },\r\n\r\n  verticalValues: ['top', 'middle', 'bottom', 'distributed', 'justify'].reduce((p, v) => {\r\n    p[v] = true;\r\n    return p;\r\n  }, {}),\r\n  vertical(value) {\r\n    if (value === 'middle') return 'center';\r\n    return this.verticalValues[value] ? value : undefined;\r\n  },\r\n  wrapText(value) {\r\n    return value ? true : undefined;\r\n  },\r\n  shrinkToFit(value) {\r\n    return value ? true : undefined;\r\n  },\r\n  textRotation(value) {\r\n    switch (value) {\r\n      case 'vertical':\r\n        return value;\r\n      default:\r\n        value = utils.validInt(value);\r\n        return value >= -90 && value <= 90 ? value : undefined;\r\n    }\r\n  },\r\n  indent(value) {\r\n    value = utils.validInt(value);\r\n    return Math.max(0, value);\r\n  },\r\n  readingOrder(value) {\r\n    switch (value) {\r\n      case 'ltr':\r\n        return Enums.ReadingOrder.LeftToRight;\r\n      case 'rtl':\r\n        return Enums.ReadingOrder.RightToLeft;\r\n      default:\r\n        return undefined;\r\n    }\r\n  },\r\n};\r\n\r\nconst textRotationXform = {\r\n  toXml(textRotation) {\r\n    textRotation = validation.textRotation(textRotation);\r\n    if (textRotation) {\r\n      if (textRotation === 'vertical') {\r\n        return 255;\r\n      }\r\n\r\n      const tr = Math.round(textRotation);\r\n      if (tr >= 0 && tr <= 90) {\r\n        return tr;\r\n      }\r\n\r\n      if (tr < 0 && tr >= -90) {\r\n        return 90 - tr;\r\n      }\r\n    }\r\n    return undefined;\r\n  },\r\n  toModel(textRotation) {\r\n    const tr = utils.validInt(textRotation);\r\n    if (tr !== undefined) {\r\n      if (tr === 255) {\r\n        return 'vertical';\r\n      }\r\n      if (tr >= 0 && tr <= 90) {\r\n        return tr;\r\n      }\r\n      if (tr > 90 && tr <= 180) {\r\n        return 90 - tr;\r\n      }\r\n    }\r\n    return undefined;\r\n  },\r\n};\r\n\r\n// Alignment encapsulates translation from style.alignment model to/from xlsx\r\nclass AlignmentXform extends BaseXform {\r\n  get tag() {\r\n    return 'alignment';\r\n  }\r\n\r\n  render(xmlStream, model) {\r\n    xmlStream.addRollback();\r\n    xmlStream.openNode('alignment');\r\n\r\n    let isValid = false;\r\n    function add(name, value) {\r\n      if (value) {\r\n        xmlStream.addAttribute(name, value);\r\n        isValid = true;\r\n      }\r\n    }\r\n    add('horizontal', validation.horizontal(model.horizontal));\r\n    add('vertical', validation.vertical(model.vertical));\r\n    add('wrapText', validation.wrapText(model.wrapText) ? '1' : false);\r\n    add('shrinkToFit', validation.shrinkToFit(model.shrinkToFit) ? '1' : false);\r\n    add('indent', validation.indent(model.indent));\r\n    add('textRotation', textRotationXform.toXml(model.textRotation));\r\n    add('readingOrder', validation.readingOrder(model.readingOrder));\r\n\r\n    xmlStream.closeNode();\r\n\r\n    if (isValid) {\r\n      xmlStream.commit();\r\n    } else {\r\n      xmlStream.rollback();\r\n    }\r\n  }\r\n\r\n  parseOpen(node) {\r\n    const model = {};\r\n\r\n    let valid = false;\r\n    function add(truthy, name, value) {\r\n      if (truthy) {\r\n        model[name] = value;\r\n        valid = true;\r\n      }\r\n    }\r\n    add(node.attributes.horizontal, 'horizontal', node.attributes.horizontal);\r\n    add(\r\n      node.attributes.vertical,\r\n      'vertical',\r\n      node.attributes.vertical === 'center' ? 'middle' : node.attributes.vertical\r\n    );\r\n    add(node.attributes.wrapText, 'wrapText', !!node.attributes.wrapText);\r\n    add(node.attributes.shrinkToFit, 'shrinkToFit', !!node.attributes.shrinkToFit);\r\n    add(node.attributes.indent, 'indent', parseInt(node.attributes.indent, 10));\r\n    add(\r\n      node.attributes.textRotation,\r\n      'textRotation',\r\n      textRotationXform.toModel(node.attributes.textRotation)\r\n    );\r\n    add(\r\n      node.attributes.readingOrder,\r\n      'readingOrder',\r\n      node.attributes.readingOrder === '2' ? 'rtl' : 'ltr'\r\n    );\r\n\r\n    this.model = valid ? model : null;\r\n  }\r\n\r\n  parseText() {}\r\n\r\n  parseClose() {\r\n    return false;\r\n  }\r\n}\r\n\r\nmodule.exports = AlignmentXform;\r\n"],"file":"alignment-xform.js"}
=======
{"version":3,"file":"alignment-xform.js","names":["Enums","require","utils","BaseXform","validation","horizontalValues","reduce","p","v","horizontal","value","undefined","verticalValues","vertical","wrapText","shrinkToFit","textRotation","validInt","indent","Math","max","readingOrder","ReadingOrder","LeftToRight","RightToLeft","textRotationXform","toXml","tr","round","toModel","AlignmentXform","tag","render","xmlStream","model","addRollback","openNode","isValid","add","name","addAttribute","closeNode","commit","rollback","parseOpen","node","valid","truthy","attributes","parseBoolean","parseInt","parseText","parseClose","module","exports"],"sources":["../../../../../lib/xlsx/xform/style/alignment-xform.js"],"sourcesContent":["const Enums = require('../../../doc/enums');\n\nconst utils = require('../../../utils/utils');\nconst BaseXform = require('../base-xform');\n\nconst validation = {\n  horizontalValues: [\n    'left',\n    'center',\n    'right',\n    'fill',\n    'centerContinuous',\n    'distributed',\n    'justify',\n  ].reduce((p, v) => {\n    p[v] = true;\n    return p;\n  }, {}),\n  horizontal(value) {\n    return this.horizontalValues[value] ? value : undefined;\n  },\n\n  verticalValues: ['top', 'middle', 'bottom', 'distributed', 'justify'].reduce((p, v) => {\n    p[v] = true;\n    return p;\n  }, {}),\n  vertical(value) {\n    if (value === 'middle') return 'center';\n    return this.verticalValues[value] ? value : undefined;\n  },\n  wrapText(value) {\n    return value ? true : undefined;\n  },\n  shrinkToFit(value) {\n    return value ? true : undefined;\n  },\n  textRotation(value) {\n    switch (value) {\n      case 'vertical':\n        return value;\n      default:\n        value = utils.validInt(value);\n        return value >= -90 && value <= 90 ? value : undefined;\n    }\n  },\n  indent(value) {\n    value = utils.validInt(value);\n    return Math.max(0, value);\n  },\n  readingOrder(value) {\n    switch (value) {\n      case 'ltr':\n        return Enums.ReadingOrder.LeftToRight;\n      case 'rtl':\n        return Enums.ReadingOrder.RightToLeft;\n      default:\n        return undefined;\n    }\n  },\n};\n\nconst textRotationXform = {\n  toXml(textRotation) {\n    textRotation = validation.textRotation(textRotation);\n    if (textRotation) {\n      if (textRotation === 'vertical') {\n        return 255;\n      }\n\n      const tr = Math.round(textRotation);\n      if (tr >= 0 && tr <= 90) {\n        return tr;\n      }\n\n      if (tr < 0 && tr >= -90) {\n        return 90 - tr;\n      }\n    }\n    return undefined;\n  },\n  toModel(textRotation) {\n    const tr = utils.validInt(textRotation);\n    if (tr !== undefined) {\n      if (tr === 255) {\n        return 'vertical';\n      }\n      if (tr >= 0 && tr <= 90) {\n        return tr;\n      }\n      if (tr > 90 && tr <= 180) {\n        return 90 - tr;\n      }\n    }\n    return undefined;\n  },\n};\n\n// Alignment encapsulates translation from style.alignment model to/from xlsx\nclass AlignmentXform extends BaseXform {\n  get tag() {\n    return 'alignment';\n  }\n\n  render(xmlStream, model) {\n    xmlStream.addRollback();\n    xmlStream.openNode('alignment');\n\n    let isValid = false;\n    function add(name, value) {\n      if (value) {\n        xmlStream.addAttribute(name, value);\n        isValid = true;\n      }\n    }\n    add('horizontal', validation.horizontal(model.horizontal));\n    add('vertical', validation.vertical(model.vertical));\n    add('wrapText', validation.wrapText(model.wrapText) ? '1' : false);\n    add('shrinkToFit', validation.shrinkToFit(model.shrinkToFit) ? '1' : false);\n    add('indent', validation.indent(model.indent));\n    add('textRotation', textRotationXform.toXml(model.textRotation));\n    add('readingOrder', validation.readingOrder(model.readingOrder));\n\n    xmlStream.closeNode();\n\n    if (isValid) {\n      xmlStream.commit();\n    } else {\n      xmlStream.rollback();\n    }\n  }\n\n  parseOpen(node) {\n    const model = {};\n\n    let valid = false;\n    function add(truthy, name, value) {\n      if (truthy) {\n        model[name] = value;\n        valid = true;\n      }\n    }\n    add(node.attributes.horizontal, 'horizontal', node.attributes.horizontal);\n    add(\n      node.attributes.vertical,\n      'vertical',\n      node.attributes.vertical === 'center' ? 'middle' : node.attributes.vertical\n    );\n    add(node.attributes.wrapText, 'wrapText', utils.parseBoolean(node.attributes.wrapText));\n    add(node.attributes.shrinkToFit, 'shrinkToFit', utils.parseBoolean(node.attributes.shrinkToFit));\n    add(node.attributes.indent, 'indent', parseInt(node.attributes.indent, 10));\n    add(\n      node.attributes.textRotation,\n      'textRotation',\n      textRotationXform.toModel(node.attributes.textRotation)\n    );\n    add(\n      node.attributes.readingOrder,\n      'readingOrder',\n      node.attributes.readingOrder === '2' ? 'rtl' : 'ltr'\n    );\n\n    this.model = valid ? model : null;\n  }\n\n  parseText() {}\n\n  parseClose() {\n    return false;\n  }\n}\n\nmodule.exports = AlignmentXform;\n"],"mappings":"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"}
>>>>>>> 95bdce0e2476f31a1a1d26b5d1f458cd5295e48d
