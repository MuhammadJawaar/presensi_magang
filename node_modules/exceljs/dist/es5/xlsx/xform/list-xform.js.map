<<<<<<< HEAD
{"version":3,"sources":["../../../../lib/xlsx/xform/list-xform.js"],"names":["BaseXform","require","ListXform","options","tag","always","count","empty","$count","$","childXform","maxItems","model","forEach","childModel","index","prepare","xmlStream","length","openNode","addAttribute","render","closeNode","leafNode","node","parser","parseOpen","name","text","parseText","parseClose","push","undefined","Error","reconcile","module","exports"],"mappings":"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","sourcesContent":["const BaseXform = require('./base-xform');\r\n\r\nclass ListXform extends BaseXform {\r\n  constructor(options) {\r\n    super();\r\n\r\n    this.tag = options.tag;\r\n    this.always = !!options.always;\r\n    this.count = options.count;\r\n    this.empty = options.empty;\r\n    this.$count = options.$count || 'count';\r\n    this.$ = options.$;\r\n    this.childXform = options.childXform;\r\n    this.maxItems = options.maxItems;\r\n  }\r\n\r\n  prepare(model, options) {\r\n    const {childXform} = this;\r\n    if (model) {\r\n      model.forEach((childModel, index) => {\r\n        options.index = index;\r\n        childXform.prepare(childModel, options);\r\n      });\r\n    }\r\n  }\r\n\r\n  render(xmlStream, model) {\r\n    if (this.always || (model && model.length)) {\r\n      xmlStream.openNode(this.tag, this.$);\r\n      if (this.count) {\r\n        xmlStream.addAttribute(this.$count, (model && model.length) || 0);\r\n      }\r\n\r\n      const {childXform} = this;\r\n      (model || []).forEach((childModel, index) => {\r\n        childXform.render(xmlStream, childModel, index);\r\n      });\r\n\r\n      xmlStream.closeNode();\r\n    } else if (this.empty) {\r\n      xmlStream.leafNode(this.tag);\r\n    }\r\n  }\r\n\r\n  parseOpen(node) {\r\n    if (this.parser) {\r\n      this.parser.parseOpen(node);\r\n      return true;\r\n    }\r\n    switch (node.name) {\r\n      case this.tag:\r\n        this.model = [];\r\n        return true;\r\n      default:\r\n        if (this.childXform.parseOpen(node)) {\r\n          this.parser = this.childXform;\r\n          return true;\r\n        }\r\n        return false;\r\n    }\r\n  }\r\n\r\n  parseText(text) {\r\n    if (this.parser) {\r\n      this.parser.parseText(text);\r\n    }\r\n  }\r\n\r\n  parseClose(name) {\r\n    if (this.parser) {\r\n      if (!this.parser.parseClose(name)) {\r\n        this.model.push(this.parser.model);\r\n        this.parser = undefined;\r\n\r\n        if (this.maxItems && this.model.length > this.maxItems) {\r\n          throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  reconcile(model, options) {\r\n    if (model) {\r\n      const {childXform} = this;\r\n      model.forEach(childModel => {\r\n        childXform.reconcile(childModel, options);\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = ListXform;\r\n"],"file":"list-xform.js"}
=======
{"version":3,"file":"list-xform.js","names":["BaseXform","require","ListXform","constructor","options","tag","always","count","empty","$count","$","childXform","maxItems","prepare","model","forEach","childModel","index","render","xmlStream","length","openNode","addAttribute","closeNode","leafNode","parseOpen","node","parser","name","parseText","text","parseClose","push","undefined","Error","reconcile","module","exports"],"sources":["../../../../lib/xlsx/xform/list-xform.js"],"sourcesContent":["const BaseXform = require('./base-xform');\n\nclass ListXform extends BaseXform {\n  constructor(options) {\n    super();\n\n    this.tag = options.tag;\n    this.always = !!options.always;\n    this.count = options.count;\n    this.empty = options.empty;\n    this.$count = options.$count || 'count';\n    this.$ = options.$;\n    this.childXform = options.childXform;\n    this.maxItems = options.maxItems;\n  }\n\n  prepare(model, options) {\n    const {childXform} = this;\n    if (model) {\n      model.forEach((childModel, index) => {\n        options.index = index;\n        childXform.prepare(childModel, options);\n      });\n    }\n  }\n\n  render(xmlStream, model) {\n    if (this.always || (model && model.length)) {\n      xmlStream.openNode(this.tag, this.$);\n      if (this.count) {\n        xmlStream.addAttribute(this.$count, (model && model.length) || 0);\n      }\n\n      const {childXform} = this;\n      (model || []).forEach((childModel, index) => {\n        childXform.render(xmlStream, childModel, index);\n      });\n\n      xmlStream.closeNode();\n    } else if (this.empty) {\n      xmlStream.leafNode(this.tag);\n    }\n  }\n\n  parseOpen(node) {\n    if (this.parser) {\n      this.parser.parseOpen(node);\n      return true;\n    }\n    switch (node.name) {\n      case this.tag:\n        this.model = [];\n        return true;\n      default:\n        if (this.childXform.parseOpen(node)) {\n          this.parser = this.childXform;\n          return true;\n        }\n        return false;\n    }\n  }\n\n  parseText(text) {\n    if (this.parser) {\n      this.parser.parseText(text);\n    }\n  }\n\n  parseClose(name) {\n    if (this.parser) {\n      if (!this.parser.parseClose(name)) {\n        this.model.push(this.parser.model);\n        this.parser = undefined;\n\n        if (this.maxItems && this.model.length > this.maxItems) {\n          throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);\n        }\n      }\n      return true;\n    }\n\n    return false;\n  }\n\n  reconcile(model, options) {\n    if (model) {\n      const {childXform} = this;\n      model.forEach(childModel => {\n        childXform.reconcile(childModel, options);\n      });\n    }\n  }\n}\n\nmodule.exports = ListXform;\n"],"mappings":"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"}
>>>>>>> 95bdce0e2476f31a1a1d26b5d1f458cd5295e48d
